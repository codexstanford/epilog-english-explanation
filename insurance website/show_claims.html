
<!-- saved from url=(0073)./show_claims.html?room=codex -->
<html><!--=======================================================================--><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
  <title>Insurance</title>
  <script language="javascript" src="./src/epilog.js"></script>
  <script language="javascript" src="./src/worksheets.js"></script>
  <script language="javascript" src="./src/localstorage.js"></script>
</head>

<!--=======================================================================-->

<body align="center" bgcolor="#f8f8f8" onload="initialize()">
  <center>
    <table width="640" cellspacing="0" cellpadding="0">
      <tbody><tr>
        <td>

<!--=======================================================================-->

<center>
  <table width="640" cellpadding="0" cellspacing="0" border="0">
    <tbody><tr>
      <td width="640" height="90" align="center">
        <a href="./index.html" style="font-size:48px;color:#000088;text-decoration:none">Insurance</a>
      </td>
    </tr>
  </tbody></table>
</center>

<!--=======================================================================-->

<center>
  <br>
  <table id="display" width="640" cellspacing="0" cellpadding="4" border="1" bgcolor="#ffffff">
    <thead>
      <tr bgcolor="#e0e0e0">
        <td width="100" align="center" displaystyle="stringfield">Claim</td>
        <td width="100" align="center" displaystyle="stringfield">Policy</td>
        <td width="120" align="center" displaystyle="stringfield">Hospitalization</td>
        <td width="120" align="center" displaystyle="stringfield">Disposition</td>
        <td width="120" align="center" displaystyle="stringfield">Recommendation</td>
        <td width="120" align="center" displaystyle="stringfield">Justification</td>
      </tr>
    </thead>
    <tfoot>
      <tr>
        <td colspan="6" align="center" style="border:1px solid #888888;background-color:#dddddd">
          <input type="button" value="Add Claim" href="create_claim.html?room=codex" onclick="modopen(this)">
          <input type="button" id="creator" value="User Claim" href="claim.html?room=codex" onclick="modopen(this)">
          <input type="button" id="creator" value="Hospital Claim" href="claim.html?room=codex" onclick="modopen(this)">
         </td>
      </tr>
    </tfoot>
  <tbody><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim1" style="color:#0044bb;text-decoration:none;cursor:pointer">claim1</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy1" style="color:#0044bb;text-decoration:none;cursor:pointer">policy1</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization51" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization51</a></td><td>declined</td><td>decline</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim1,decline)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim2" style="color:#0044bb;text-decoration:none;cursor:pointer">claim2</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy2" style="color:#0044bb;text-decoration:none;cursor:pointer">policy2</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization52" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization52</a></td><td>declined</td><td>decline</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim2,decline)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim3" style="color:#0044bb;text-decoration:none;cursor:pointer">claim3</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy3" style="color:#0044bb;text-decoration:none;cursor:pointer">policy3</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization53" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization53</a></td><td>declined</td><td>decline</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim3,decline)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim4" style="color:#0044bb;text-decoration:none;cursor:pointer">claim4</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy4" style="color:#0044bb;text-decoration:none;cursor:pointer">policy4</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization54" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization54</a></td><td>declined</td><td>decline</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim4,decline)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim5" style="color:#0044bb;text-decoration:none;cursor:pointer">claim5</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy5" style="color:#0044bb;text-decoration:none;cursor:pointer">policy5</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization55" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization55</a></td><td>declined</td><td>decline</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim5,decline)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim6" style="color:#0044bb;text-decoration:none;cursor:pointer">claim6</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy6" style="color:#0044bb;text-decoration:none;cursor:pointer">policy6</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization56" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization56</a></td><td>paid</td><td>pay</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim6,pay)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim7" style="color:#0044bb;text-decoration:none;cursor:pointer">claim7</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy7" style="color:#0044bb;text-decoration:none;cursor:pointer">policy7</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization57" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization57</a></td><td>paid</td><td>pay</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim7,pay)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim8" style="color:#0044bb;text-decoration:none;cursor:pointer">claim8</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy8" style="color:#0044bb;text-decoration:none;cursor:pointer">policy8</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization58" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization58</a></td><td>paid</td><td>pay</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim8,pay)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim9" style="color:#0044bb;text-decoration:none;cursor:pointer">claim9</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy9" style="color:#0044bb;text-decoration:none;cursor:pointer">policy9</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization59" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization59</a></td><td>paid</td><td>pay</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim9,pay)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim10" style="color:#0044bb;text-decoration:none;cursor:pointer">claim10</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy10" style="color:#0044bb;text-decoration:none;cursor:pointer">policy10</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization60" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization60</a></td><td>paid</td><td>pay</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim10,pay)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim11" style="color:#0044bb;text-decoration:none;cursor:pointer">claim11</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy11" style="color:#0044bb;text-decoration:none;cursor:pointer">policy11</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization61" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization61</a></td><td>paid</td><td>pay</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim11,pay)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim12" style="color:#0044bb;text-decoration:none;cursor:pointer">claim12</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy12" style="color:#0044bb;text-decoration:none;cursor:pointer">policy12</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization62" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization62</a></td><td>paid</td><td>pay</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim12,pay)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim13" style="color:#0044bb;text-decoration:none;cursor:pointer">claim13</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy13" style="color:#0044bb;text-decoration:none;cursor:pointer">policy13</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization63" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization63</a></td><td>paid</td><td>pay</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim13,pay)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim14" style="color:#0044bb;text-decoration:none;cursor:pointer">claim14</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy14" style="color:#0044bb;text-decoration:none;cursor:pointer">policy14</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization64" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization64</a></td><td>paid</td><td>pay</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim14,pay)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim15" style="color:#0044bb;text-decoration:none;cursor:pointer">claim15</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy15" style="color:#0044bb;text-decoration:none;cursor:pointer">policy15</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization65" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization65</a></td><td>paid</td><td>pay</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim15,pay)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr><tr><td><a href="./inspect_claim.html?room=codex&amp;id=claim21" style="color:#0044bb;text-decoration:none;cursor:pointer">claim21</a></td><td><a href="./inspect_policy.html?room=codex&amp;id=policy21" style="color:#0044bb;text-decoration:none;cursor:pointer">policy21</a></td><td><a href="./inspect_hospitalization.html?room=codex&amp;id=hospitalization21" style="color:#0044bb;text-decoration:none;cursor:pointer">hospitalization21</a></td><td></td><td>decline</td><td><a href="./justify.html?room=codex&amp;conclusion=claim.recommendation(claim21,decline)" style="color:#0044bb;text-decoration:none;cursor:pointer" target="explanation">Explain</a></td></tr></tbody></table>
</center>

<!--=======================================================================-->

<textarea id="library" type="text/hrf" style="display:none">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Definitions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% recommendations
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

claim.recommendation(C,pay) :-
  plan_in_effect(C) &amp;
  ~partial_day(C) &amp;
  evaluate(countofall(E,exclusion(C,E)),0)

claim.recommendation(C,decline) :- partial_day(C)
claim.recommendation(C,decline) :- exclusion(C,E)

plan_in_effect(C) :-
  claim.policy(C,P) &amp;
  claim.hospitalization(C,Z) &amp;
  policy.startdate(P,PS) &amp;
  policy.enddate(P,PE) &amp;
  hospitalization.startdate(Z,ZS) &amp;
  hospitalization.enddate(Z,ZE) &amp;
  overlap(PS,PE,ZS,ZE)

partial_day(C) :-
  claim.hospitalization(C,Z) &amp;
  duration(Z,DURATION) &amp;
  less(DURATION,86400000)

duration(Z,DURATION) :-
  hospitalization.startdate(Z,SD) &amp;
  hospitalization.starttime(Z,ST) &amp;
  hospitalization.enddate(Z,ED) &amp;
  hospitalization.endtime(Z,ET) &amp;
  datetimetotimestamp(SD,ST,SS) &amp;
  datetimetotimestamp(ED,ET,ES) &amp;
  evaluate(minus(ES,SS),DURATION)

exclusion(C,4.3m) :-
  claim.hospitalization(C,Z) &amp;
  hospitalization.patient(Z,P) &amp;
  hospitalization.patient(Y,P) &amp;
  distinct(Y,Z) &amp;
  hospitalization.diagnosis(Z,D) &amp;
  hospitalization.diagnosis(Y,D) &amp;
  hospitalization.startdate(Z,ZS) &amp;
  hospitalization.enddate(Y,YE) &amp;
  evaluate(stringmin(YE,ZS),YE)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% insurance-related definitions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

person.policy(X,Y) :- policy.insuree(Y,X)
person.policy(X,Y) :- policy.dependent(Y,X)

person.claim(X,Y) :-
  hospitalization.patient(H,X) &amp;
  claim.hospitalization(Y,H)

policy.claim(X,Y) :- claim.policy(Y,X)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% general definitions and predefined relations
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

overlap(PS,PE,ZS,ZE) :-
  evaluate(stringmin(ZS,PE),ZS) &amp;
  evaluate(stringmin(PS,ZE),PS)

datetimetotimestamp(DATE,TIME,STAMP) :-
  evaluate(parsedate(DATE),[Y,M,D]) &amp;
  evaluate(parsetime(TIME),[H,N,S]) &amp;
  evaluate(maketimestamp(Y,M,D,H,N,S),STAMP)

parsedate(DATE) :=
  map(readstring,tail(matches(stringify(DATE),"(....)_(..)_(..)")))

parsetime(TIME) :=
  map(readstring,tail(matches(stringify(TIME),"(..)_(..)_(..)")))

leq(X,Y) :- evaluate(min(X,Y),X)
less(X,Y) :- evaluate(min(X,Y),X) &amp; distinct(X,Y)

head(X!L) := X
tail(X!L) := L

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Worksheet Rules
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

rows(display,L) :- setofall(R,row(display,R),L)

row(display,display(CS,PS,HS,Z,R,JS)) :-
  type(C,claim) &amp;
  link(inspect,claim,C,CS) &amp;
  policy(C,PS) &amp;
  hospitalization(C,HS) &amp;
  disposition(C,Z) &amp;
  recommendation(C,R) &amp;
  justification(C,JS)

policy(C,PS) :- claim.policy(C,P) &amp; link(inspect,policy,P,PS)
policy(C,"") :- countofall(P,claim.policy(C,P),0)

hospitalization(C,HS) :- claim.hospitalization(C,H) &amp; link(inspect,hospitalization,H,HS)
hospitalization(C,"") :- countofall(H,claim.hospitalization(C,H),0)

disposition(C,Z) :- claim.disposition(C,Z)
disposition(C,"") :- countofall(Z,claim.disposition(C,Z),0)

recommendation(C,R) :- claim.recommendation(C,R)
recommendation(C,"") :- countofall(Z,claim.recommendation(C,R),0)

justification(C,LINK) :-
  claim.recommendation(C,R) &amp;
  evaluate(stringify(delistify([claim.recommendation,C,R])),CS) &amp;
  stringappend("&lt;a href='justify.html?room=codex&amp;conclusion=",CS,"' style='color:#0044bb;text-decoration:none;cursor:pointer' target='explanation'&gt;Explain&lt;/a&gt;",LINK)

justification(C,"&nbsp;") :- countofall(Z,claim.recommendation(C,R),0)

link(Sheet,Class,Object,Link) :-
  stringify(Sheet,SS) &amp; stringify(Class,CS) &amp; stringify(Object,OS) &amp;
  stringappend("&lt;a href='",SS,"_",CS,".html?room=codex&amp;id=",OS,"' style='color:#0044bb;text-decoration:none;cursor:pointer'&gt;",OS,"&lt;/a&gt;",Link)

</textarea>

<!--=======================================================================-->

<textarea id="lambda" style="display:none"></textarea>

<!--=======================================================================-->

        </td>
      </tr>
    </tbody></table>
  </center>


<!--=======================================================================-->


</body></html>